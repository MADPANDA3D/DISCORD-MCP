services:
  discord-mcp:
    container_name: discord-mcp
    build: .
    restart: unless-stopped
    environment:
      DISCORD_TOKEN: "${DISCORD_TOKEN}"
      DISCORD_GUILD_ID: "${DISCORD_GUILD_ID}"
      DISCORD_PRIMARY_CHANNEL_ID: "${DISCORD_PRIMARY_CHANNEL_ID}"
      DISCORD_ALLOWED_CHANNEL_IDS: "${DISCORD_ALLOWED_CHANNEL_IDS}"
      MCP_ADMIN_TOOLS_ENABLED: "${MCP_ADMIN_TOOLS_ENABLED}"
    networks:
      - npm_default
    ports:
      - "8085:8085"

networks:
  npm_default:
    external: true
